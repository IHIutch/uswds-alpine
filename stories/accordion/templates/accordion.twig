<div
    x-data="{
      activeAccordion: '',
      setActiveAccordion(id) {
      this.activeAccordion = (this.activeAccordion == id) ? '' : id
      }
    }"
    @keydown.down="$focus.wrap().next()"
    @keydown.up="$focus.wrap().previous()"
    class="space-y-2"
 >
  {% for accordion in accordions %}
    <div x-data="{ id: $id('accordion') }">
      <h4 class="relative">
        <button
          @click="setActiveAccordion(id)"
          class="flex items-center w-full py-4 px-5 bg-gray-5 hover:bg-gray-10 font-bold focus:outline focus-within:outline-4 focus-within:outline-blue-40v cursor-pointer text-left gap-3"
          :aria-controls="id"
          :aria-expanded="activeAccordion==id"
       >
          {{ accordion.title }}
          <div class="h-full flex items-center ml-auto shrink-0">
            <div
              class="icon-[material-symbols--add] h-6 w-6"
              x-show="activeAccordion!=id"
              x-cloak
             ></div>
            <div
              class="icon-[material-symbols--remove] h-6 w-6"
              x-show="activeAccordion==id"
              x-cloak
             ></div>
          </div>
        </button>
      </h4>
      <div :id="id" class="py-6 px-4" x-show="activeAccordion==id" x-cloak>
        <p class="leading-normal max-w-prose">
          {{ accordion.content }}
        </p>
      </div>
    </div>
  {% endfor %}
  </div>
