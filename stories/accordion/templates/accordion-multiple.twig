  <div
    x-data="{
      activeAccordion: [],
      setActiveAccordion(id) {
      this.activeAccordion = this.activeAccordion.includes(id) ? this.activeAccordion.filter(el => el !== id) : [...this.activeAccordion, id]
      }
    }"
    @keydown.down="$focus.wrap().next()"
    @keydown.up="$focus.wrap().previous()"
    class="space-y-2"
 >

    {% for accordion in accordions %}
    <div x-data="{ id: $id('accordion') }">
      <h4 class="relative">
        <button
          @click="setActiveAccordion(id)"
          class="group flex items-center w-full py-4 px-5 bg-gray-5 hover:bg-gray-10 font-bold focus:outline focus:outline-4 focus:outline-blue-40v cursor-pointer text-left gap-3"
          :aria-controls="id"
          :aria-expanded="activeAccordion.includes(id)"
       >
          {{ accordion.title }}
          <div class="h-full flex items-center ml-auto shrink-0">
            <div
              class="!h-6 !w-6 icon-[material-symbols--add] group-aria-expanded:icon-[material-symbols--remove]"
             ></div>
          </div>
        </button>
      </h4>
      <div :id="id" class="py-6 px-4 border-b-4 border-x-4 border-gray-5" x-show="activeAccordion.includes(id)" x-cloak>
        <p class="leading-normal max-w-prose">
          {{ accordion.content }}
        </p>
      </div>
    </div>

    {% endfor %}
  </div>
